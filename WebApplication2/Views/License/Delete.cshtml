@using WebApplication2.Models.API;
@model string

<form method="POST" asp-controller="License" asp-action="DeleteLicense" id="DeleteLicenseForm">
    <div class="form-container">

        <div class="modal-body">
            <div class="col-sm-12">
                <div class="alert alert-danger alert-dismissible fade show mt-1 px-1 mb-0 text-center" role="alert">
                    <i class="uil uil-exclamation-octagon d-block display-4 mt-2 mb-3 text-danger"></i>
                    <h5 class="text-danger">Delete</h5>
                    <p>
                        Are u sure?
                    </p>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-light waves-effect" data-bs-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-danger waves-effect waves-light"> Delete</button>
            
        </div>
    </div>
</form>
<script>
    $(document).ready(function () {
        $('#DeleteLicenseForm').on('submit', function (e) {
            e.preventDefault();


            $.ajax({
                url: '../License/DeleteLicense',
                cache: false,
                type: "POST",
                data: JSON.stringify(@Model),
                contentType: "application/json; charset=utf-8",
                success: function (data) {
                    if (data.statusCode === 200) {
                        $('.modal').modal('hide');
                        window.location.reload();

                    } else {
                        var errorMessage = $('<div class="alert alert-danger" role="alert">' + data.message + '</div>');
                        $('#DeleteLicenseForm').append(errorMessage);
                    }
                },

            });
        });
    });
</script>